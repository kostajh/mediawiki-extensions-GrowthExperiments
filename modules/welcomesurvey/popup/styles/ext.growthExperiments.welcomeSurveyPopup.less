@import 'mediawiki.ui/variables';
@import 'mediawiki.mixins';

// Survey dialog
.welcome-survey-dialog {
	.oo-ui-window-body {
		.welcomesurvey-main {
			.welcomesurvey-subtitle {
				font-size: 1em;
				font-weight: bold;
				margin-bottom: 0.5em;
			}

			// Radio styled as toggle button
			.oo-ui-radioOptionWidget {
				width: 99%;
				background-color: @colorGray15;
				margin: 0.5em 0;
				position: relative;
				border: solid 1px @colorGray10;
				border-radius: 2px;

				&.oo-ui-optionWidget-selected {
					background-color: @colorProgressiveActive;
					border-color: @colorProgressiveActive;
					.transition( ~'background-color 250ms, color 250ms, border-color 250ms' );

					span {
						color: @colorBaseInverted;
					}

					.oo-ui-radioInputWidget [ type='radio' ] + span:before {
						/* @embed */
						background: url( ../images/check.svg ) -2px -1px;
						border: 0;
					}
				}

				.oo-ui-labelElement-label {
					padding: 0.5em 1.5em 0.5em 0.5em;
					width: 100%;
					color: @colorGray2;
					text-align: left;
					cursor: pointer;
					position: relative;
					z-index: 2;
					left: 1em;
				}

				.oo-ui-radioInputWidget {
					left: 0.75em;
					top: 0.5em;

					&.oo-ui-widget-enabled [ type='radio' ]:checked + span {
						background-color: @colorProgressiveActive;
						border-color: @colorProgressiveActive;
					}
				}
			}

			// Checkbox styled as toggle button
			.oo-ui-checkboxMultiselectWidget {
				margin: 0.5em 0 0.5em 0;

				.oo-ui-checkboxMultioptionWidget {
					background-color: @colorGray15;
					width: inherit;
					margin: 0 0.5em 0.25em 0;
					position: relative;
					border: solid 1px @colorGray10;
					border-radius: 2px;
					display: inline-block;
					padding: 0.5em 2em 0.5em 0.5em;

					&.oo-ui-multioptionWidget-selected {
						background-color: @colorProgressiveActive;
						color: @colorBaseInverted;
						border-color: @colorProgressiveActive;
						.transition( ~'background-color 250ms, color 250ms, border-color 250ms' );
					}

					.oo-ui-checkboxInputWidget {
						position: absolute;
						right: 1.75em;
						border: 0;

						&.oo-ui-checkboxInputWidget [ type='checkbox' ] + span {
							background-color: transparent;
							border: 0;
							padding: 0;
						}
					}
				}
			}

			// The toolbar is in the main section on desktop
			.welcomesurvey-toolbar {
				position: absolute;
				bottom: 1.14285714em;
				left: 1.14285714em;

				.oo-ui-widget {
					margin-bottom: 0;
					margin-right: 0;

					.oo-ui-buttonWidget {
						margin-right: 0.5em;
					}
				}
			}

			.stack-position-indicator {
				padding: 0.5em 0 1em;

				&-step {
					display: inline-block;
					width: 0.5em;
					height: 0.5em;
					padding: 0;
					margin: 0.25em;
					border-radius: 0.25em;
					background-color: @colorGray12;

					&-on {
						background-color: @colorProgressiveActive;
					}
				}
			}
		}

		.welcomesurvey-sidebar {
			&-desktop,
			&-mobile {
				background-color: @colorGray15;
			}

			&-desktop {
				border-left: solid 1px @colorGray12;
			}

			&-mobile {
				margin-top: 2em;
				padding: 1.14285714em;
			}
		}
	}

	.oo-ui-window-foot {
		.oo-ui-processDialog-actions-other {
			position: relative;
			height: 3.14285714em;

			.welcome-survey-skip-button {
				position: absolute;
				right: 0;
				top: 0;
				bottom: 0;
				margin-right: 0.42857143em;
			}
		}

		// The toolbar is in the footer on mobile
		.welcomesurvey-toolbar-mobile {
			&.oo-ui-horizontalLayout {
				padding: 0.5em;

				.oo-ui-widget {
					margin-bottom: 0;
					margin-right: 0;

					.oo-ui-buttonWidget {
						margin-right: 0.5em;
					}
				}
			}
		}
	}
}

// Elements present on both dialogs
.welcome-survey-dialog,
.welcome-survey-confirmation-dialog {
	.section-title {
		font-size: 1em;
		font-weight: bold;
	}

	.section-text {
		line-height: 1.5;
		color: @colorGray2;
	}

	.editing-section {
		margin-top: 1em;
	}

	ul.welcomesurvey-gettingstarted-links {
		list-style: none;
		margin-left: 0;

		li {
			margin-top: 10px;

			a {
				font-weight: bold;
			}
		}
	}
}
