{
	"name": "GrowthExperiments",
	"descriptionmsg": "growthexperiments-desc",
	"license-name": "GPL-3.0-or-later",
	"author": [
		"Stephane Bisson",
		"Kosta Harlan",
		"Roan Kattouw"
	],
	"url": "https://www.mediawiki.org/wiki/Extension:GrowthExperiments",
	"requires": {
		"MediaWiki": ">= 1.34.0"
	},
	"AutoloadNamespaces": {
		"GrowthExperiments\\": "includes/"
	},
	"MessagesDirs": {
		"GrowthExperiments": [
			"i18n/extension",
			"i18n/welcomesurvey",
			"i18n/welcomesurvey/api",
			"i18n/help",
			"i18n/help/api",
			"i18n/homepage",
			"i18n/homepage/api",
			"i18n/confirmemail",
			"i18n/newcomertasks",
			"i18n/newcomertasks/api"
		]
	},
	"ExtensionMessagesFiles": {
		"GrowthExperimentsAlias": "GrowthExperiments.alias.php"
	},
	"ServiceWiringFiles": [
		"ServiceWiring.php"
	],
	"ConfigRegistry": {
		"GrowthExperiments": "GlobalVarConfig::newInstance"
	},
	"APIModules": {
		"helppanelquestionposter": "GrowthExperiments\\Api\\ApiHelpPanelPostQuestion",
		"homepagequestionstore": "GrowthExperiments\\Api\\ApiQuestionStore"
	},
	"APIListModules": {
		"growthtasks": {
			"class": "GrowthExperiments\\Api\\ApiQueryGrowthTasks",
			"services": [ "GrowthExperimentsTaskSuggester" ]
		}
	},
	"Hooks": {
		"MobileMenu": [
			"GrowthExperiments\\HomepageHooks::onMobileMenu"
		],
		"SpecialPage_initList": [
			"GrowthExperiments\\WelcomeSurveyHooks::onSpecialPageInitList",
			"GrowthExperiments\\HomepageHooks::onSpecialPageInitList"
		],
		"UserGetDefaultOptions": [
			"GrowthExperiments\\HelpPanelHooks::onUserGetDefaultOptions",
			"GrowthExperiments\\TourHooks::onUserGetDefaultOptions"
		],
		"LocalUserCreated": [
			"GrowthExperiments\\HelpPanelHooks::onLocalUserCreated",
			"GrowthExperiments\\HomepageHooks::onLocalUserCreated"
		],
		"GetPreferences": [
			"GrowthExperiments\\WelcomeSurveyHooks::onGetPreferences",
			"GrowthExperiments\\HelpPanelHooks::onGetPreferences",
			"GrowthExperiments\\HomepageHooks::onGetPreferences",
			"GrowthExperiments\\TourHooks::onGetPreferences"
		],
		"BeforeWelcomeCreation": [
			"GrowthExperiments\\WelcomeSurveyHooks::onBeforeWelcomeCreation"
		],
		"SiteNoticeAfter": [
			"GrowthExperiments\\HomepageHooks::onSiteNoticeAfter"
		],
		"SpecialContributionsBeforeMainOutput": [
			"GrowthExperiments\\HomepageHooks::onSpecialContributionsBeforeMainOutput"
		],
		"SpecialPageAfterExecute": [
			"GrowthExperiments\\HomepageHooks::onSpecialPageAfterExecute"
		],
		"BeforePageDisplay": [
			"GrowthExperiments\\HelpPanelHooks::onBeforePageDisplay",
			"GrowthExperiments\\HomepageHooks::onBeforePageDisplay",
			"GrowthExperiments\\TourHooks::onBeforePageDisplay"
		],
		"ConfirmEmailComplete": [
			"GrowthExperiments\\HomepageHooks::onConfirmEmailComplete"
		],
		"SkinMinervaOptionsInit": [
			"GrowthExperiments\\HomepageHooks::onSkinMinervaOptionsInit"
		],
		"ListDefinedTags": [
			"GrowthExperiments\\HelpPanelHooks::onListDefinedTags",
			"GrowthExperiments\\HomepageHooks::onListDefinedTags"
		],
		"ChangeTagsListActive": [
			"GrowthExperiments\\HelpPanelHooks::onListDefinedTags",
			"GrowthExperiments\\HomepageHooks::onChangeTagsListActive"
		],
		"SkinTemplateNavigation::Universal": [
			"GrowthExperiments\\HomepageHooks::onSkinTemplateNavigationUniversal"
		],
		"PersonalUrls": [
			"GrowthExperiments\\HomepageHooks::onPersonalUrls"
		],
		"MessageCache::get": [
			"GrowthExperiments\\HomepageHooks::onMessageCacheGet"
		],
		"AuthChangeFormFields": [
			"GrowthExperiments\\ConfirmEmailHooks::onAuthChangeFormFields"
		],
		"UserSendConfirmationMail": [
			"GrowthExperiments\\ConfirmEmailHooks::onUserSendConfirmationMail"
		],
		"UserSaveOptions": [
			"GrowthExperiments\\HomepageHooks::onUserSaveOptions"
		],
		"ResourceLoaderRegisterModules": [
			"GrowthExperiments\\TourHooks::onResourceLoaderRegisterModules"
		]
	},
	"ResourceFileModulePaths": {
		"localBasePath": "modules",
		"remoteExtPath": "GrowthExperiments/modules"
	},
	"attributes": {
		"EventLogging": {
			"Schemas": {
				"HelpPanel": 18973214,
				"HomepageModule": 19375909
			}
		}
	},
	"ResourceModules": {
		"ext.growthExperiments.mobileMenu.icons": {
			"class": "ResourceLoaderImageModule",
			"selector": ".mw-ui-icon-minerva-{name}:before",
			"defaultColor": "#4A4F53",
			"images": {
				"newspaper": {
					"file": {
						"ltr": "../images/newspaper-ltr.svg",
						"rtl": "../images/newspaper-rtl.svg"
					}
				}
			}
		},
		"ext.growthExperiments.Homepage.ConfirmEmail": {
			"packageFiles": [ "homepage/ext.growthExperiments.Homepage.ConfirmEmail.js" ],
			"messages": [
				"confirmemail_loggedin"
			],
			"targets": [
				"desktop",
				"mobile"
			],
			"dependencies": [
				"mediawiki.notify"
			]
		},
		"ext.growthExperiments.Homepage.ConfirmEmail.styles": {
			"styles": "homepage/ext.growthExperiments.Homepage.ConfirmEmail.less",
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.Discovery.styles": {
			"styles": [
				"homepage/ext.growthExperiments.Homepage.Discovery.less",
				"homepage/ext.growthExperiments.Homepage.Discovery.Mobile.less"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.Discovery.scripts": {
			"scripts": [
				"homepage/ext.growthExperiments.Homepage.Discovery.Mobile.js"
			],
			"targets": [
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.Mobile": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.Mobile.js",
				"homepage/ext.growthExperiments.Homepage.MobileOverlay.js"
			],
			"targets": [
				"mobile"
			],
			"templates": {
				"ModuleHeader.mustache": "homepage/ModuleHeader.mustache",
				"ModuleContent.mustache": "homepage/ModuleContent.mustache"
			}
		},
		"ext.growthExperiments.HelpPanel.icons": {
			"class": "ResourceLoaderImageModule",
			"selectorWithVariant": ".oo-ui-image-{variant}.oo-ui-icon-{name}",
			"selectorWithoutVariant": ".oo-ui-icon-{name}",
			"images": {
				"askQuestion": {
					"file": {
						"ltr": "../images/askQuestion-ltr.svg",
						"rtl": "../images/askQuestion-rtl.svg"
					}
				}
			}
		},
		"ext.growthExperiments.welcomeSurvey.styles": {
			"styles": [
				"welcomesurvey/ext.growthExperiments.welcomeSurvey.less"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.HelpPanelCta.styles": {
			"styles": [
				"helppanel/ext.growthExperiments.HelpPanelCta.less"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.QuestionPoster": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.QuestionPoster.js",
				"homepage/ext.growthExperiments.QuestionPosterDialog.js"
			],
			"messages": [
				"growthexperiments-homepage-help-cancel"
			],
			"dependencies": [
				"ext.growthExperiments.Help",
				"mediawiki.jqueryMsg",
				"mediawiki.router"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.Logger": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.Logger.js",
				"utils/ext.growthExperiments.Utils.js"
			],
			"dependencies": [
				"oojs-ui-core",
				"mediawiki.user"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.Logging": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.Logging.js"
			],
			"dependencies": [
				"ext.growthExperiments.Homepage.Logger"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.RecentQuestions": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.RecentQuestions.js"
			],
			"messages": [
				"growthexperiments-homepage-recent-questions-header"
			],
			"dependencies": [
				"mediawiki.api"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.Impact": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.Impact.js"
			],
			"messages": [
				"growthexperiments-homepage-impact-empty-pageviews-tooltip-button"
			],
			"dependencies": [
				"ext.growthExperiments.Homepage.Logger",
				"oojs-ui-windows"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.Mentorship": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.Mentorship.js"
			],
			"messages": [
				"growthexperiments-homepage-mentorship-dialog-title",
				"growthexperiments-homepage-mentorship-questionreview-header",
				"growthexperiments-homepage-mentorship-questionreview-header-mentor-talk-link-text",
				"growthexperiments-homepage-mentorship-confirmation-text",
				"growthexperiments-homepage-mentorship-view-question-text"
			],
			"dependencies": [
				"ext.growthExperiments.Homepage.QuestionPoster"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.StartEditing": {
			"packageFiles": [
				"homepage/ext.growthExperiments.Homepage.StartEditing.js",
				"homepage/ext.growthExperiments.Homepage.StartEditingDialog.js"
			],
			"styles": [
				"homepage/ext.growthExperiments.Homepage.StartEditingDialog.less"
			],
			"messages": [
				"growthexperiments-homepage-startediting-dialog-topic-back",
				"growthexperiments-homepage-startediting-dialog-topic-forward",
				"growthexperiments-homepage-startediting-dialog-difficulty-back",
				"growthexperiments-homepage-startediting-dialog-difficulty-forward",
				"growthexperiments-homepage-startediting-dialog-difficulty-header",
				"growthexperiments-homepage-startediting-dialog-difficulty-subheader",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-easy-label",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-medium-label",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-hard-label",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-easy-description-header",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-medium-description-header",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-hard-description-header",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-easy-description-body",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-medium-description-body",
				"growthexperiments-homepage-startediting-dialog-difficulty-level-hard-description-body"
			],
			"dependencies": [
				"mediawiki.api",
				"oojs-ui-widgets",
				"oojs-ui-windows"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.icons": {
			"class": "ResourceLoaderImageModule",
			"selectorWithVariant": ".oo-ui-image-{variant}.oo-ui-icon-{name}",
			"selectorWithoutVariant": ".oo-ui-icon-{name}",
			"images": {
				"difficulty-easy": {
					"file": {
						"ltr": "../images/difficulty-easy-ltr.svg",
						"rtl": "../images/difficulty-easy-rtl.svg"
					}
				},
				"difficulty-medium": {
					"file": {
						"ltr": "../images/difficulty-medium-ltr.svg",
						"rtl": "../images/difficulty-medium-rtl.svg"
					}
				},
				"difficulty-hard": {
					"file": {
						"ltr": "../images/difficulty-hard-ltr.svg",
						"rtl": "../images/difficulty-hard-rtl.svg"
					}
				}
			}
		},
		"ext.growthExperiments.Homepage.contribs.styles": {
			"styles": "homepage/ext.growthExperiments.Homepage.contribs.less",
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Help": {
			"styles": [
				"help/ext.growthExperiments.HelpPanelProcessDialog.less",
				"help/ext.growthExperiments.HelpPanelSearchWidget.less"
			],
			"packageFiles": [
				"help/ext.growthExperiments.Help.js",
				"help/ext.growthExperiments.HelpPanelLogger.js",
				"utils/ext.growthExperiments.Utils.js",
				"help/ext.growthExperiments.HelpPanelSearchWidget.js",
				"help/ext.growthExperiments.HelpPanelProcessDialog.js",
				{
					"name": "help/data.json",
					"callback": [ "GrowthExperiments\\HelpPanelHooks", "getModuleData" ]
				}
			],
			"dependencies": [
				"mediawiki.jqueryMsg",
				"mediawiki.storage",
				"mediawiki.Uri",
				"mediawiki.user",
				"mediawiki.util",
				"oojs-ui.styles.icons-alerts",
				"oojs-ui.styles.icons-interactions",
				"oojs-ui-widgets",
				"oojs-ui-windows"
			],
			"messages": [
				"growthexperiments-help-panel-question-button-text",
				"growthexperiments-help-panel-submit-question-button-text",
				"growthexperiments-help-panel-editing-help-links-widget-header",
				"growthexperiments-help-panel-editing-help-links-widget-view-more-link",
				"growthexperiments-help-panel-question-widget-header",
				"growthexperiments-help-panel-question-placeholder",
				"growthexperiments-help-panel-back-home",
				"growthexperiments-help-panel-close",
				"growthexperiments-help-panel-home-title",
				"growthexperiments-help-panel-questionreview-title",
				"growthexperiments-help-panel-questionreview-header",
				"growthexperiments-help-panel-questionreview-label",
				"growthexperiments-help-panel-questionreview-include-article-title",
				"growthexperiments-help-panel-question-subject-template",
				"growthexperiments-help-panel-question-subject-template-with-title",
				"growthexperiments-help-panel-question-subject-template-from-homepage",
				"growthexperiments-help-panel-question-post-error",
				"growthexperiments-help-panel-questioncomplete-title",
				"growthexperiments-help-panel-questioncomplete-header",
				"growthexperiments-help-panel-questioncomplete-confirmation-text",
				"growthexperiments-help-panel-questioncomplete-view-link-text",
				"growthexperiments-help-panel-questioncomplete-notifications-section-header",
				"growthexperiments-help-panel-questioncomplete-notifications-wiki",
				"growthexperiments-help-panel-questioncomplete-notifications-email",
				"growthexperiments-help-panel-questioncomplete-notifications-email-change",
				"growthexperiments-help-panel-questioncomplete-notifications-email-unconfirmed",
				"growthexperiments-help-panel-questioncomplete-notifications-email-unconfirmed-confirm",
				"growthexperiments-help-panel-questioncomplete-notifications-email-missing",
				"growthexperiments-help-panel-questioncomplete-notifications-email-missing-add",
				"growthexperiments-help-panel-questioncomplete-more-about-this-feature-text",
				"growthexperiments-help-panel-tog-help-panel",
				"growthexperiments-help-panel-settings-cog-preferences-link",
				"growthexperiments-help-panel-questioncomplete-first-edit",
				"growthexperiments-help-panel-search-label",
				"growthexperiments-help-panel-search-no-results",
				"ellipsis"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.HelpPanel": {
			"styles": [
				"helppanel/ext.growthExperiments.HelpPanelPopup.less"
			],
			"packageFiles": [
				"helppanel/ext.growthExperiments.HelpPanel.cta.js"
			],
			"dependencies": [
				"ext.growthExperiments.Help",
				"ext.growthExperiments.HelpPanel.icons",
				"ext.growthExperiments.HelpPanelCta.styles"
			],
			"messages": [
				"growthexperiments-help-panel-cta-button-text"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.HelpPanel.init": {
			"scripts": "helppanel/ext.growthExperiments.HelpPanel.init.js",
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.confirmEmail.createAccount.styles": {
			"styles": "confirmemail/ext.confirmEmail.createAccount.less",
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.Homepage.styles": {
			"styles": [
				"homepage/ext.growthExperiments.BaseModule.less",
				"homepage/ext.growthExperiments.HelpModule.less",
				"homepage/ext.growthExperiments.ImpactModule.less",
				"homepage/ext.growthExperiments.MentorshipModule.less",
				"homepage/ext.growthExperiments.StartModule.less",
				"homepage/ext.growthExperiments.Homepage.less"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		},
		"ext.growthExperiments.confirmEmail.createAccount": {
			"scripts": "confirmemail/ext.confirmEmail.createAccount.js",
			"messages": [
				"growthexperiments-confirmemail-emailwarning"
			],
			"targets": [
				"desktop",
				"mobile"
			]
		}
	},
	"config": {
		"GEHomepageTutorialTitle": {
			"description": "MediaWiki title to link to in the Tutorial button in the homepage Start module.",
			"value": "Main_Page"
		},
		"GEHelpPanelReadingModeNamespaces": {
			"description": "Numerical IDs of the MediaWiki namespaces in which to show the help panel in reading mode. Specifying a namespace will also include its talk namespace. Defaults to NS_PROJECT and NS_HELP namespaces.",
			"value": [ 4, 12 ]
		},
		"GEHelpPanelExcludedNamespaces": {
			"description": "MediaWiki namespaces that the help panel will be excluded from.",
			"value": []
		},
		"GEHelpPanelNewAccountEnablePercentage": {
			"description": "Percentage of new accounts to enable help panel for. Must be a whole number.",
			"value": 100
		},
		"GEHelpPanelHelpDeskTitle": {
			"description": "Mediawiki title for help panel CTA when users have disabled JS. Templates or magic words contained in this string will be expanded.",
			"value": "Talk:Main_Page"
		},
		"GEHelpPanelViewMoreTitle": {
			"description": "MediaWiki title for view more articles on help link.",
			"value": "Main_Page"
		},
		"GEHelpPanelEnabled": {
			"description": "Global ON/OFF switch for the help panel feature.",
			"value": true
		},
		"GEHelpPanelLoggingEnabled": {
			"description": "ON/OFF switch for the help panel event logging feature.",
			"value": true
		},
		"GEHelpPanelLinks": {
			"description": "List of links to display in the help panel.",
			"merge_strategy": "array_plus",
			"value": [ {
				"title": "Project:Help",
				"text": "Site help",
				"id": "help"
			} ]
		},
		"GEHelpPanelSearchNamespaces": {
			"description": "List of namespaces to include in the search for help content.",
			"value": [ 4, 12 ]
		},
		"GEHelpPanelSearchForeignAPI": {
			"description": "api.php URL of a foreign wiki to search instead of the current wiki. Used for testing/development to get more/better results.",
			"value": false
		},
		"WelcomeSurveyEnabled": {
			"description": "Global ON/OFF switch for the Welcome survey feature.",
			"value": true
		},
		"WelcomeSurveyAllowFreetextResponses": {
			"description": "If set to true, freetext responses with the welcome survey are allowed.",
			"value": false
		},
		"WelcomeSurveyPrivacyPolicyUrl": {
			"description": "URL of the privacy policy to be used on the Welcome survey.",
			"value": "https://foundation.wikimedia.org/wiki/New_User_Welcome_Survey_Privacy_Statement"
		},
		"GEHomepageEnabled": {
			"description": "Global ON/OFF switch for the Homepage feature.",
			"value": true
		},
		"GEHomepageNewAccountEnablePercentage": {
			"description": "Percentage of new accounts to enable homepage for. Must be a whole number.",
			"value": 100
		},
		"GEHomepageLoggingEnabled": {
			"description": "ON/OFF switch for the homepage event logging feature.",
			"value": true
		},
		"GEHomepageMentorsList": {
			"description": "Title of the wiki page that contains the list of available mentors.",
			"value": "Main_Page"
		},
		"GEHomepageSuggestedEditsEnabled": {
			"description": "Global ON/OFF switch for the suggested edits feature on the homepage.",
			"value": false
		},
		"GEConfirmEmailEnabled": {
			"description": "Global ON/OFF switch for the email confirmation changes.",
			"value": true
		},
		"GENewcomerTasksRemoteConfigTitle": {
			"description": "Title of a remote MediaWiki page (with interwiki prefix) which contains suggested edits configuration. Should have JSON content type and contain a map of task type -> task configuration where task configuration consists of the following fields: group - 'easy', 'medium' or 'hard'; templates - an array of template names (without namespace) for the maintenance templates used to tag this task type (redirects do not need to be declared manually). The system messages growthexperiments-newcomertasks-tasktype-name-<tasktype> and growthexperiments-newcomertasks-tasktype-description-<tasktype> will be used for task name and description; both must exist.",
			"value": null
		},
		"GENewcomerTasksRemoteApiUrl": {
			"description": "URL of a remote API (ending with 'api.php') to use for identifying suggested edits. This is meant for developer setups.",
			"value": null
		},
		"WelcomeSurveyExperimentalGroups": {
			"description": "List of experimental groups. A group is defined with a range to randomly match users and the list of questions they will see on the survey.",
			"merge_strategy": "array_plus_2d",
			"value": {
				"exp1_group1": {
					"range": "x",
					"format": "specialpage",
					"questions": [
						"reason",
						"edited",
						"email",
						"mentor-info",
						"mentor"
					]
				},
				"exp1_group2": {
					"range": "x",
					"questions": []
				},
				"exp2_control": {
					"range": "x",
					"questions": []
				},
				"exp2_target_specialpage": {
					"range": "x",
					"format": "specialpage",
					"questions": [
						"reason",
						"edited",
						"email",
						"mentor-info",
						"mentor"
					]
				}
			}
		}
	},
	"manifest_version": 2
}
